<html>
<head>
  <meta charset="utf-8">
  <title>Highlight View</title>
  <link rel="stylesheet" href="github-highlight.css">
  <script src="highlight.pack.js" ></script>
  <script src="base64.min.js" ></script>
  <script>
    window.onload = function() {
      android.onLoad();
    }
    function setContent(code) {
      var html=encode_html(Base64.decode(code));
      document.getElementById('content').innerHTML=html;
      hljs.initHighlighting();
    }
    //HTML转义:http://www.cnblogs.com/hoodng/archive/2012/03/16/2399543.html
    function encode_html(s){
      return (typeof s != "string") ? s :
          s.replace( /"|&|'|<|>|[\x00-\x20]|[\x7F-\xFF]|[\u0100-\u2700]/g,
                    function($0){
                        var c = $0.charCodeAt(0), r = ["&#"];
                        c = (c == 0x20) ? 0xA0 : c;
                        r.push(c); r.push(";");
                        return r.join("");
                    });
    }
  </script>
</head>
<body>
  <pre><code id="content"></code></pre>
</body>
</html>
